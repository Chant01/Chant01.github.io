<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Chant</title>
  <subtitle>Take things as they are with a cavalier attitude./ç”¨æ¼«ä¸ç»å¿ƒçš„æ€åº¦è¿‡éšé‡è€Œå®‰çš„ç”Ÿæ´»</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://chant00.github.io/"/>
  <updated>2017-06-06T09:06:00.000Z</updated>
  <id>https://chant00.github.io/</id>
  
  <author>
    <name>Chant</name>
    <email>statuschuan@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼</title>
    <link href="https://chant00.github.io/2017/06/06/%E5%9C%A8hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%EF%BC%8C%E9%9F%B3%E4%B9%90%EF%BC%8C%E8%A7%86%E5%B1%8F%EF%BC%8C%E5%85%AC%E5%BC%8F/"/>
    <id>https://chant00.github.io/2017/06/06/åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼/</id>
    <published>2017-06-06T09:06:00.000Z</published>
    <updated>2017-06-06T09:06:00.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><script src="/assets/js/APlayer.min.js"> </script><h3 id="æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼"><a href="#æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼" class="headerlink" title="æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼"></a>æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼</h3><a id="more"></a>
<h3 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h3><p>å…³äºæ’å…¥å›¾ç‰‡ï¼Œç½‘ä¸Šçš„å›¾åºŠï¼ˆæ³¨å†Œéº»çƒ¦ï¼Œä½¿ç”¨éº»çƒ¦ï¼Œéœ€è¦ä¸Šä¼ ï¼Œç½‘é€Ÿä¸è¡Œå’‹åŠï¼Ÿç±»ä¼¼Lightshot Screenshotï¼Œä¸Šä¼ åŸºæœ¬30ç§’ï¼Œå¦‚æœä½ è¦å†™ä¸€ä»½éœ€è¦è¯¦ç»†æˆªå›¾çš„å®‰è£…æ–‡æ¡£ï¼Œé‚£ä¼°è®¡ä¸€å¤©çš„æ—¶é—´éƒ½èŠ±åœ¨ä¸Šä¼ å›¾ç‰‡ä¸Šäº†ï¼‰ï¼Œhexoå®˜æ–¹çš„æ–¹æ³•ï¼ˆå°†å›¾ç‰‡æ”¾åœ¨source/image/ä¸‹ï¼Œè¿™æ ·åœ¨ç¼–è¾‘å™¨ä¸­å¹¶ä¸èƒ½å®æ—¶é¢„è§ˆï¼Œè€Œä¸”ä½ è¿˜éœ€è¦è®°ä½å›¾ç‰‡çš„åå­—ã€‚ï¼‰éƒ½ä»¤äººè§‰å¾—æ’å…¥å›¾ç‰‡ç®€ç›´æ˜¯ä¸ªå™©æ¢¦ã€‚<br>çŸ¥é“æˆ‘é‡åˆ°äº†MWebï¼Œä¸€ä¸ªå¯ä»¥ç›´æ¥æŠŠå›¾ç‰‡æ‹–å…¥å³å¯å®Œæˆå›¾ç‰‡æ’å…¥çš„Markdownç¼–è¾‘å™¨ï¼Œæˆ–è€…ä½¿ç”¨å¾®ä¿¡æˆªå›¾<code>Ctrl+command+a</code>ä¿å­˜(è®°å¾—æ˜¯ç‚¹ä¸‹è½½æŒ‰é’®ï¼Œä¸æ˜¯ç‚¹é‚£ä¸ªå°çº¢å‹¾)åï¼Œç›´æ¥<code>Command+v</code>,å›¾ç‰‡å°±æ’å…¥äº†ã€‚è€Œä¸”å…¶ä½è°ƒç®€æ´çš„ç•Œé¢ï¼Œç®€å•å®ç”¨çš„å¿«æ·é”®ï¼Œå®Œç¾çš„è¯ é‡Šäº†ä»€ä¹ˆå«ä¼˜é›…çš„å†™ä½œæ–¹å¼ã€‚<br>å½“ç„¶å¦‚æ­¤ç¾è…»è€Œåˆå¼ºå¤§ï¼Œå¿…ç„¶ä¸ä¾¿å®œçš„ï¼Œå®˜æ–¹ä»·æ ¼ï¿¥98ã€‚ä¸è¦æ¡‘å¿ƒï¼Œä»–è¿˜æœ‰å…è´¹çš„liteç‰ˆï¼Œä¸¤ä¸ªç‰ˆæœ¬çš„åŒºåˆ«ä¸»è¦æ˜¯ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<blockquote>
<p>æ–‡æ¡£åº“æ–‡æ¡£é™åˆ¶åœ¨ 10 ä¸ªä»¥å†…ï¼›ï¼ˆç„¶é¹…ï¼Œå†™hexoä¸€ç›´éƒ½æ˜¯ç”¨å¤–éƒ¨æ¨¡å¼ï¼Œå‹æ ¹ä¸éœ€è¦æ–‡æ¡£åº“ï¼‰<br>å¤–éƒ¨æ¨¡å¼å¯å¼•å…¥çš„æ–‡ä»¶å¤¹é™åˆ¶åœ¨ 1 ä¸ªï¼›ï¼ˆç„¶é¹…ï¼Œä¸€ä¸ªæ–‡ä»¶ä¸‹å¯ä»¥æœ‰æ— æ•°ä¸ªæ–‡ä»¶å¤¹ï¼‰<br>æ”¯æŒçš„å‘å¸ƒæœåŠ¡åªå¯å¢åŠ  1 ä¸ªï¼›ï¼ˆç„¶é¹…ï¼Œå†™hexoåšå®¢ï¼Œä¸éœ€è¦ç¼–è¾‘å™¨æ¥å¸®æˆ‘å‘å¸ƒï¼‰</p>
</blockquote>
<p>å½“ç„¶ï¼ŒMWebä¸åªæ˜¯æ‹¿æ¥å†™hexoåšå®¢çš„ï¼Œæ›´å¤šä¿¡æ¯è¯·æˆ³<a href="http://zh.mweb.im/" target="_blank" rel="external">MWebå®˜ç½‘</a>ä»¥åŠ<a href="http://zh.mweb.im/help.html" target="_blank" rel="external">å¸®åŠ©æ–‡æ¡£</a>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">![](/media/14967219636093.jpg)</div></pre></td></tr></table></figure>
<p><img src="/media/14967219603047.jpg" alt=""></p>
<h3 id="éŸ³ä¹"><a href="#éŸ³ä¹" class="headerlink" title="éŸ³ä¹"></a>éŸ³ä¹</h3><h4 id="1-ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ’­æ”¾å™¨"><a href="#1-ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ’­æ”¾å™¨" class="headerlink" title="1.ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ’­æ”¾å™¨"></a>1.ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾æ’­æ”¾å™¨</h4><p>æ¯”å¦‚ä½ å³é”®æŸé¦–æ­Œï¼Œå¤åˆ¶é“¾æ¥çš„åˆ°é“¾æ¥ä¸º<code>http://music.163.com/#/m/song?id=2919622</code>åªéœ€è¦å…¶ä¸­çš„<code>id=2919622</code>å°±å¤Ÿäº†ã€‚<br><img src="/media/WX20170606-095609@2x.png" alt=""></p>
<p>é‚£ä¹ˆåœ¨æ–‡ç« ä¸­ä½¿ç”¨ifnameæ ‡ç­¾å¦‚ä¸‹ï¼Œè®°å¾—å°†å…¶ä¸­çš„idæ”¹ä¸ºä½ æƒ³è¦çš„éŸ³ä¹idã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=430 height=86 src="//music.163.com/outchain/player?type=2&amp;id=2919622&amp;auto=0&amp;height=66"&gt;&lt;/iframe&gt;</div></pre></td></tr></table></figure>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="430" height="86" src="//music.163.com/outchain/player?type=2&id=2919622&auto=0&height=66"></iframe>

<h4 id="2-ä½¿ç”¨-Hexo-æ’ä»¶æ’å…¥éŸ³ä¹-éŸ³é¢‘"><a href="#2-ä½¿ç”¨-Hexo-æ’ä»¶æ’å…¥éŸ³ä¹-éŸ³é¢‘" class="headerlink" title="2.ä½¿ç”¨ Hexo æ’ä»¶æ’å…¥éŸ³ä¹/éŸ³é¢‘"></a>2.ä½¿ç”¨ Hexo æ’ä»¶æ’å…¥éŸ³ä¹/éŸ³é¢‘</h4><p>hexo-tag-aplayerï¼š<a href="https://github.com/grzhan/hexo-tag-aplayer" target="_blank" rel="external">https://github.com/grzhan/hexo-tag-aplayer</a><br>å®˜æ–¹ç®€ä»‹ï¼š<br>Embed APlayer(<a href="https://github.com/DIYgod/APlayer" target="_blank" rel="external">https://github.com/DIYgod/APlayer</a>) in Hexo posts/pages.å¾ˆæ˜æ˜¾ï¼Œé™¤äº†postsï¼Œè¿˜å¯ä»¥åœ¨pagesé¡µé¢ä½¿ç”¨ã€‚</p>
<p>Installation:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save hexo-tag-aplayer</div></pre></td></tr></table></figure>
<p>Usage:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</div></pre></td></tr></table></figure></p>
<p>å‚æ•°è¯´æ˜åŠè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æˆ³<a href="https://github.com/grzhan/hexo-tag-aplayer#usage" target="_blank" rel="external">github</a>ï¼Œè¿˜æœ‰åŠ å…¥æ­Œè¯å’Œæ’­æ”¾ä¾‹è¡¨ç­‰å¼ºå¤§åŠŸèƒ½ç­‰ä½ æ¢ç´¢ã€‚<br>Example:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% aplayer <span class="string">"å¥¹çš„ç«æ¯›"</span> <span class="string">"å‘¨æ°ä¼¦"</span> <span class="string">"http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3"</span>  <span class="string">"http://home.ustc.edu.cn/~mmmwhy/jay.jpg"</span> <span class="string">"autoplay=false"</span> %&#125;</div></pre></td></tr></table></figure></p>
<div id="aplayer0" class="aplayer" style="margin-bottom: 20px;"></div>
		<script>
			new APlayer({
				element: document.getElementById("aplayer0"),
				narrow: false,
				autoplay: false,
				showlrc: 0,
				music: {
					title: "å¥¹çš„ç«æ¯›",
					author: "å‘¨æ°ä¼¦",
					url: "http://home.ustc.edu.cn/~mmmwhy/%d6%dc%bd%dc%c2%d7%20-%20%cb%fd%b5%c4%bd%de%c3%ab.mp3",
					pic: "http://home.ustc.edu.cn/~mmmwhy/jay.jpg",
				}
			});
		</script>
<p>ä½¿ç”¨å”±å§å½•åˆ¶å¹¶ä¸Šä¼ éŸ³é¢‘ï¼Œç”¨æµè§ˆå™¨æ‰“å¼€åˆ†äº«é“¾æ¥,å³é”®æ˜¾ç¤ºç½‘é¡µæºä»£ç </p>
<p><img src="/media/2.png" alt="2"><br>æœç´¢<code>mp3</code>ï¼Œæ‰¾åˆ°ä½ çš„éŸ³é¢‘é“¾æ¥ã€‚<br><img src="/media/image.png" alt=""></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% aplayer  <span class="string">"Job or Education"</span> <span class="string">"Chant"</span> <span class="string">"http://lzscuw.changba.com/899486104.mp3"</span> <span class="string">"http://aliimg.changba.com/cache/photo/735572112_640_640.jpg"</span> <span class="string">"autoplay=false"</span> %&#125;</div></pre></td></tr></table></figure>
<div id="aplayer1" class="aplayer" style="margin-bottom: 20px;"></div>
		<script>
			new APlayer({
				element: document.getElementById("aplayer1"),
				narrow: false,
				autoplay: false,
				showlrc: 0,
				music: {
					title: "Job or Education",
					author: "Chant",
					url: "http://lzscuw.changba.com/899486104.mp3",
					pic: "http://aliimg.changba.com/cache/photo/735572112_640_640.jpg",
				}
			});
		</script>
<h3 id="è§†é¢‘"><a href="#è§†é¢‘" class="headerlink" title="è§†é¢‘"></a>è§†é¢‘</h3><h4 id="1ä½¿ç”¨æ ‡ç­¾æ’å…¥è§†é¢‘"><a href="#1ä½¿ç”¨æ ‡ç­¾æ’å…¥è§†é¢‘" class="headerlink" title="1ä½¿ç”¨æ ‡ç­¾æ’å…¥è§†é¢‘"></a>1ä½¿ç”¨æ ‡ç­¾æ’å…¥è§†é¢‘</h4><h5 id="1-1ä½¿ç”¨iframeæ ‡ç­¾æ’å…¥è§†é¢‘"><a href="#1-1ä½¿ç”¨iframeæ ‡ç­¾æ’å…¥è§†é¢‘" class="headerlink" title="1.1ä½¿ç”¨iframeæ ‡ç­¾æ’å…¥è§†é¢‘"></a>1.1ä½¿ç”¨iframeæ ‡ç­¾æ’å…¥è§†é¢‘</h5><p>å³é”®è§†é¢‘ï¼Œå¤åˆ¶åµŒå…¥ä»£ç ï¼Œç›´æ¥å°†åµŒå…¥ä»£ç ç²˜è´´è¿›ä½ çš„markdownæ–‡ç« å°±OKå•¦ã€‚<br><img src="/media/3.png" alt=""><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;iframe width=&quot;854&quot; height=&quot;480&quot; src=&quot;https://www.youtube.com/embed/xqf2DJgucsU&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;</div></pre></td></tr></table></figure></p>
<p>æ­¤æ–¹æ³•çš„æˆè´¥ä¸hexoä¸»é¢˜æœ‰å…³ï¼Œåœ¨æœ¬ä¸»é¢˜ä¸‹åŠ è½½åµŒå…¥æˆåŠŸï¼Œä½†åœ¨åœ¨åˆ«çš„ä¸»é¢˜ä¸‹ï¼Œæ¯”å¦‚<a href="https://chant00.github.io/2017/06/06/%E5%9C%A8hexo%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%EF%BC%8C%E9%9F%B3%E4%B9%90%EF%BC%8C%E8%A7%86%E5%B1%8F%EF%BC%8C%E5%85%AC%E5%BC%8F/">next</a>åŠ è½½åµŒå…¥å¤±è´¥ã€‚</p>
<p><span id="jump"> </span></p>
<iframe width="854" height="480" src="https://www.youtube.com/embed/xqf2DJgucsU" frameborder="0" allowfullscreen></iframe>

<h5 id="1-2ä½¿ç”¨embedæ ‡ç­¾æ’å…¥è§†å±"><a href="#1-2ä½¿ç”¨embedæ ‡ç­¾æ’å…¥è§†å±" class="headerlink" title="1.2ä½¿ç”¨embedæ ‡ç­¾æ’å…¥è§†å±"></a>1.2ä½¿ç”¨embedæ ‡ç­¾æ’å…¥è§†å±</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;embed height=&quot;415&quot; width=&quot;544&quot; quality=&quot;high&quot; allowfullscreen=&quot;true&quot; type=&quot;application/x-shockwave-flash&quot; src=&quot;//static.hdslb.com/miniloader.swf&quot; flashvars=&quot;aid=8506694&amp;page=1&quot; pluginspage=&quot;//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&quot;&gt;&lt;/embed&gt;</div></pre></td></tr></table></figure>
<embed height="415" width="544" quality="high" allowfullscreen="true" type="application/x-shockwave-flash" src="//static.hdslb.com/miniloader.swf" flashvars="aid=8506694&page=1" pluginspage="//www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash">

<h4 id="2-ä½¿ç”¨hexoæ’ä»¶æ’å…¥è§†é¢‘"><a href="#2-ä½¿ç”¨hexoæ’ä»¶æ’å…¥è§†é¢‘" class="headerlink" title="2.ä½¿ç”¨hexoæ’ä»¶æ’å…¥è§†é¢‘"></a>2.ä½¿ç”¨hexoæ’ä»¶æ’å…¥è§†é¢‘</h4><p>hexo-tag-dplayerï¼š<a href="https://github.com/NextMoe/hexo-tag-dplayer" target="_blank" rel="external">https://github.com/NextMoe/hexo-tag-dplayer</a><br>ä¸aplayerç±»ä¼¼ï¼Œä¸è¿‡å®ƒæ˜¯ç”¨æ¥æ’å…¥è§†é¢‘ã€‚</p>
<p>Installation:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-tag-dplayer --save</div></pre></td></tr></table></figure>
<p>Usage:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% dplayer key=value ... %&#125;</div></pre></td></tr></table></figure>
<p>å‚æ•°è¯´æ˜åŠè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æˆ³<a href="https://github.com/NextMoe/hexo-tag-dplayer#usage" target="_blank" rel="external">github</a><br>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% dplayer &quot;url=http://home.ustc.edu.cn/~mmmwhy/GEM.mp4&quot;  &quot;pic=http://home.ustc.edu.cn/~mmmwhy/GEM.jpg&quot; &quot;loop=yes&quot; &quot;theme=#FADFA3&quot; &quot;autoplay=false&quot; &quot;token=tokendemo&quot; %&#125;</div></pre></td></tr></table></figure>
<div id="dplayer0" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer0 = new DPlayer({"element":document.getElementById("dplayer0"),"autoplay":false,"theme":"#FADFA3","loop":true,"video":{"url":"http://home.ustc.edu.cn/~mmmwhy/GEM.mp4","pic":"http://home.ustc.edu.cn/~mmmwhy/GEM.jpg"}});</script>
<p>Example:<br>æ­¤æ–¹æ³•youtubeè§†é¢‘çš„å¼•ç”¨è¿˜åœ¨æ¢ç´¢ä¸­ã€‚</p>
<div id="dplayer1" class="dplayer" style="margin-bottom: 20px; width:854; height:480;"></div><script>var dplayer1 = new DPlayer({"element":document.getElementById("dplayer1"),"video":{"url":"https://www.youtube.com/embed/xqf2DJgucsU"}});</script>
<p>ä»¥ä¸‹æ˜¯å®˜æ–¹ç¤ºä¾‹ï¼Œç‚¹å‡»è®¾ç½®æŒ‰é’®è¿˜æœ‰å¼¹å¹•ã€é€Ÿåº¦ã€æ´—è„‘å¾ªç¯ç­‰é€‰é¡¹ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;% dplayer <span class="string">"url=http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.mp4"</span> <span class="string">"addition=https://dplayer.daoapp.io/bilibili?aid=4157142"</span> <span class="string">"api=http://dplayer.daoapp.io"</span> <span class="string">"pic=http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.png"</span> <span class="string">"id=9E2E3368B56CDBB4"</span> <span class="string">"loop=yes"</span> <span class="string">"theme=#FADFA3"</span> <span class="string">"autoplay=false"</span> <span class="string">"token=tokendemo"</span> %&#125;</div></pre></td></tr></table></figure>
<div id="dplayer2" class="dplayer" style="margin-bottom: 20px;"></div><script>var dplayer2 = new DPlayer({"element":document.getElementById("dplayer2"),"autoplay":false,"theme":"#FADFA3","loop":true,"video":{"url":"http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.mp4","pic":"http://devtest.qiniudn.com/è‹¥èƒ½ç»½æ”¾å…‰èŠ’.png"},"danmaku":{"api":"http://dplayer.daoapp.io","id":"9E2E3368B56CDBB4","token":"tokendemo","addition":["https://dplayer.daoapp.io/bilibili?aid=4157142"]}});</script>
<h3 id="å‚è€ƒæ–‡çŒ®ï¼š"><a href="#å‚è€ƒæ–‡çŒ®ï¼š" class="headerlink" title="å‚è€ƒæ–‡çŒ®ï¼š"></a>å‚è€ƒæ–‡çŒ®ï¼š</h3><p>1.<a href="http://feiyang.li/2017/02/24/Hexo-music-video/" target="_blank" rel="external">Hexoåšå®¢ä¸­æ’å…¥éŸ³ä¹/è§†é¢‘</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼&quot;&gt;&lt;a href=&quot;#æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼&quot; class=&quot;headerlink&quot; title=&quot;æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼&quot;&gt;&lt;/a&gt;æ‘˜è¦ï¼šå¦‚ä½•ç®€æ´ä¼˜é›…åœ°åœ¨hexoåšå®¢ä¸­æ’å…¥å›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†å±ï¼Œå…¬å¼&lt;/h3&gt;
    
    </summary>
    
      <category term="test" scheme="https://chant00.github.io/categories/test/"/>
    
    
      <category term="éšç¬”" scheme="https://chant00.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="test" scheme="https://chant00.github.io/tags/test/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://chant00.github.io/2017/06/05/hello-world/"/>
    <id>https://chant00.github.io/2017/06/05/hello-world/</id>
    <published>2017-06-05T09:49:32.000Z</published>
    <updated>2017-06-05T09:49:32.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><script src="/assets/js/DPlayer.min.js"> </script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>javaè¿œç¨‹è°ƒç”¨shellè„šæœ¬</title>
    <link href="https://chant00.github.io/2017/06/04/java%E8%BF%9C%E7%A8%8B%E8%B0%83%E7%94%A8shell%E8%84%9A%E6%9C%AC/"/>
    <id>https://chant00.github.io/2017/06/04/javaè¿œç¨‹è°ƒç”¨shellè„šæœ¬/</id>
    <published>2017-06-04T14:10:49.000Z</published>
    <updated>2017-06-05T09:50:11.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><script src="/assets/js/DPlayer.min.js"> </script><hr>
<h3 id="ç›®çš„ï¼š"><a href="#ç›®çš„ï¼š" class="headerlink" title="ç›®çš„ï¼š"></a>ç›®çš„ï¼š</h3><p>javaç¨‹åºè°ƒç”¨è¿œç¨‹æœåŠ¡å™¨çš„shellè„šæœ¬æ¥å®ç°æœåŠ¡çš„èµ·ã€åœã€é‡å¯ã€‚</p>
<a id="more"></a>
<h3 id="å‰è¨€ï¼ˆåºŸè¯ï¼‰ï¼š"><a href="#å‰è¨€ï¼ˆåºŸè¯ï¼‰ï¼š" class="headerlink" title="å‰è¨€ï¼ˆåºŸè¯ï¼‰ï¼š"></a>å‰è¨€ï¼ˆåºŸè¯ï¼‰ï¼š</h3><p>ç”±äºçŸ¥é“æˆ‘ç»éªŒä¸è¶³ï¼Œé¢†å¯¼ç»™æ–°åŒäº‹åˆ†é…ä»»åŠ¡æ—¶è¯´ï¼šâ€œè¿™ä¸ªjavaè¿œç¨‹è°ƒç”¨shellè„šæœ¬é‡å¯æœåŠ¡ï¼Œä»–ä¸¤å¯èƒ½æä¸å‡ºæ¥ï¼Œä½ ç ”ç©¶ä¸‹å§ã€‚â€è¢«äººé„™è§†äº†ä¸€æŠŠï¼Œäºæ˜¯è‡ªå·±æ­è™šæ‹Ÿæœºï¼ŒæŸ¥èµ„æ–™ï¼Œè¯•ä¸€æŠŠï¼Œçªç„¶å‘ç°ï¼Œå¥½å¤šäº‹æƒ…å…¶å®æ²¡é‚£ä¹ˆéš¾å˜›ã€‚</p>
<h3 id="æ­£æ–‡ï¼š"><a href="#æ­£æ–‡ï¼š" class="headerlink" title="æ­£æ–‡ï¼š"></a>æ­£æ–‡ï¼š</h3><h4 id="Step1-å‡†å¤‡è„šæœ¬"><a href="#Step1-å‡†å¤‡è„šæœ¬" class="headerlink" title="Step1.å‡†å¤‡è„šæœ¬"></a>Step1.å‡†å¤‡è„šæœ¬</h4><p>é‡å¯çš„å…³é”®åœ¨äºå…³é—­ï¼Œè¦å…³é—­ç¨‹åºï¼Œé‚£å°±è¦å…ˆæ‰¾åˆ°ç¨‹åºpidï¼Œç„¶åkillã€‚<br>æ‰¾åˆ°æ ¸å¿ƒå‘½ä»¤ï¼ˆè·å–pidï¼‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ID=`ps -ef | grep <span class="string">"$NAME"</span> | grep -v <span class="string">"grep"</span> | grep -v kill  | awk <span class="string">'&#123;print $2&#125;'</span>`</div></pre></td></tr></table></figure>
<p>äºæ˜¯åˆæœŸåšä¸»è°ƒè¯•åï¼Œå†™å‡ºäº†è¿™æ ·çš„shell</p>
<blockquote>
<p>å¦‚æœä½ çš„è™šæœºæ˜¯rootç”¨æˆ·ï¼Œkillå‘½ä»¤ä¼šå¾ˆå¼ºå¤§ï¼Œæ‰€ä»¥ä¸€å®šåˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºç©ºæˆ–æ•°å­—ï¼Œå¦åˆ™ï¼Œåˆ†åˆ†é’ŸæŠŠä½ çš„æ‰€æœ‰è¿›ç¨‹éƒ½killï¼Œè™šæœºç¬é—´çˆ†ç‚¸ğŸ˜‚ï¼Œé‡å¤´å†æ¥ã€‚</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/bin/sh</span></div><div class="line">NAME=$<span class="number">1</span></div><div class="line"><span class="comment">##æ£€æŸ¥å‚æ•°ï¼Œä¸èƒ½ä¸ºç©ºæˆ–çº¯æ•°å­—,å¦åˆ™ä¼škillå‡ ä¹æ‰€æœ‰è¿›ç¨‹ï¼Œç›´æ¥æ­»æœºã€‚érootç”¨æˆ·çš„è¯ï¼Œåº”è¯¥ä¸ä¼šæ­»æœºï¼Œä¼šæŠ¥permission denied.</span></div><div class="line">a=`echo <span class="string">"$NAME"</span> | grep [^<span class="number">0</span><span class="number">-9</span>] &gt;/dev/null &amp;&amp; echo <span class="number">0</span> || echo <span class="number">1</span>` <span class="comment">#åˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºæ•°å­—,æ˜¯æ•°å­—åˆ™è¿”å›1ï¼Œä¸æ˜¯åˆ™è¿”å›0</span></div><div class="line"><span class="keyword">if</span> [ <span class="string">"$NAME"</span> == <span class="string">""</span> ]; then <span class="comment">#$NAMEä¸€å®šè¦åŠ å¼•å·ï¼Œä¸ç„¶$NAMEä¸ºç©ºçš„æ—¶å€™å°±æˆäº†if[ == "" ],ä¼šæŠ¥é”™ï¼šunary operator</span></div><div class="line">echo <span class="string">"æœªè¾“å…¥è¦killçš„è¿›ç¨‹å"</span></div><div class="line"><span class="keyword">elif</span> [ $a = <span class="number">1</span> ]; then</div><div class="line">echo <span class="string">"è¿›ç¨‹åä¸èƒ½ä¸ºçº¯æ•°å­—"</span></div><div class="line"><span class="keyword">else</span></div><div class="line"><span class="comment">##é‡å¯è¿›ç¨‹</span></div><div class="line">echo <span class="string">"-----------------------"</span></div><div class="line">echo -e <span class="string">"pNmae\t=\t$NAME"</span></div><div class="line">ID=`ps -ef | grep <span class="string">"$NAME"</span> | grep -v <span class="string">"grep"</span> | grep -v <span class="string">"restart"</span>  | awk <span class="string">'&#123;print $2&#125;'</span>`</div><div class="line">echo -e <span class="string">"pid\t=\t$ID"</span></div><div class="line">echo <span class="string">"-----------------------"</span></div><div class="line"><span class="keyword">for</span> id <span class="keyword">in</span> $ID</div><div class="line">do</div><div class="line">kill <span class="number">-9</span> $id</div><div class="line">echo <span class="string">"killed $id"</span></div><div class="line">done</div><div class="line">echo <span class="string">"-----------------------"</span></div><div class="line">echo <span class="string">"restarted"</span> $NAME</div><div class="line">./$NAME <span class="number">1</span>&gt;/dev/null <span class="number">2</span>&gt;&amp;<span class="number">1</span> &amp;</div><div class="line"><span class="comment">#./$NAME</span></div><div class="line">fi</div></pre></td></tr></table></figure>
<p>ç„¶åé¢†å¯¼äº¤äºåšä¸»ä¸€ä»½ä¸“ä¸šçš„shellè„šæœ¬ï¼Œç¬é—´æŠŠåšä¸»çš„ä¸‰è„šçŒ«è„šæœ¬ç§’æˆæ¸£äº†ã€‚äºæ˜¯åšä¸»è®¤çœŸç ”è¯»ï¼Œæ·»åŠ æ³¨é‡Šï¼Œå¹¶ç¨ä½œä¿®æ”¹å¾—åˆ°ä»¥ä¸‹è„šæœ¬ã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div></pre></td><td class="code"><pre><div class="line">#!/bin/sh</div><div class="line"># -*- coding: utf-8 -*-</div><div class="line">#Filename:    server.sh.Chant</div><div class="line">#Author:        Chant</div><div class="line">#Email:        statuschuan@gmail.com</div><div class="line">#Date:        2017-06-03</div><div class="line">#Desc:</div><div class="line">#ç”¨é€”ï¼šè¯¥è„šæœ¬ç”¨äºåœæ­¢ã€å¯åŠ¨æœåŠ¡</div><div class="line">#ä½¿ç”¨è¯´æ˜ï¼š</div><div class="line">#å¯åŠ¨è¯¥è„šæœ¬æ—¶éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå‚æ•°å‡ä¸èƒ½ä¸ºç©º</div><div class="line">#ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼šç¨‹åºå…¥å£åç§°</div><div class="line">#ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼šå‚æ•°åç§°</div><div class="line">#æ³¨æ„äº‹é¡¹ï¼š</div><div class="line">#è¿œç¨‹è°ƒç”¨æ—¶ï¼Œè¯·å°†è„šæœ¬ç¯å¢ƒå˜é‡é…ç½®åˆ°/etc/bashrcæˆ–è€…ç”¨æˆ·ç›®å½•ä¸‹çš„.bashrc</div><div class="line"></div><div class="line">print_usage()</div><div class="line">&#123;</div><div class="line">  echo "Usage: $0 COMMAND"</div><div class="line">  echo "where COMMAND is one of:"</div><div class="line">  echo "  help                                         Help print this usage message"</div><div class="line">  echo "  start &lt;server_name&gt; &lt;server_param&gt;           Start"</div><div class="line">  echo "  stop  &lt;server_name&gt; &lt;server_param&gt;           Stop"</div><div class="line">  echo "  restart  &lt;server_name&gt; &lt;server_param&gt;        Restart"</div><div class="line">&#125;</div><div class="line"></div><div class="line">start()&#123;</div><div class="line">  #echo "start not suport now."</div><div class="line">  cmd=$@</div><div class="line">  $cmd 1&gt;/dev/null 2&gt;&amp;1 &amp; #è¿™é‡Œä¸€å®šè¦å†™1&gt;/dev/null 2&gt;&amp;1 ä¸èƒ½åªå†™&amp;,å¦åˆ™è¿œç¨‹è°ƒç”¨æ—¶ï¼Œä¼šç­‰å¾…cmdçš„è¿”å›ç»“æœ(stdOut)ï¼Œå°±ä¹ˆæ³•æ„‰å¿«åœ°ç©è€äº†ã€‚</div><div class="line">&#125;</div><div class="line"></div><div class="line">stop()&#123;</div><div class="line">  #get arguments</div><div class="line">  SERVER_NAME=$1</div><div class="line">  SERVER_PARAM=$2</div><div class="line">  PROCESS_NAME="$1 $2"</div><div class="line">  #echo $PROCESS_NAME</div><div class="line">  if [ "$1" = "" ];</div><div class="line">  then</div><div class="line">    echo "ç¬¬äºŒä¸ªå‚æ•°ä¸èƒ½ä¸ºç©º"</div><div class="line">    exit 0;</div><div class="line">  fi</div><div class="line">  if [ -z "$2" ];</div><div class="line">  then</div><div class="line">    echo "ç¬¬ä¸‰ä¸ªå‚æ•°ä¸èƒ½ä¸ºç©º"</div><div class="line">    exit 0;</div><div class="line">  fi</div><div class="line"></div><div class="line">  #get process's pids</div><div class="line">  pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"|awk '&#123;print $2&#125;'`</div><div class="line"></div><div class="line">  #Chant:ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥è¿‡æ»¤æ‰è„šæœ¬æœ¬èº«çš„pidï¼Œå°±ä¸ç”¨å†™åé¢çš„åˆ¤æ–­è¯­å¥äº†ã€‚</div><div class="line">  #ä½†æ˜¯å…¶å®ç”¨$$è·å–å½“å‰è„šæœ¬pidåœ¨é€»è¾‘ä¸Šæ›´ä¸¥å¯†ï¼Œå¦åˆ™ï¼Œä¸‡ä¸€ä½ çš„è„šæœ¬åå’Œè¦æ“ä½œçš„ç¨‹åºåæœ‰ç›¸åŒéƒ¨åˆ†å°±ä¼šå‡ºé—®é¢˜ï¼Œ</div><div class="line">  #eg: è„šæœ¬åä¸ºï¼šser.sh è€Œç¨‹åºåä¸ºï¼šposer.sh,é‚£ä¹ˆç”±äºgrep -v "$0" å°±å–ä¸åˆ°å…¶pidäº†</div><div class="line">  #pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"| grep -v "$0" |awk '&#123;print $2&#125;'`</div><div class="line">  # ä¸ºbasenameæŒ‡å®šä¸€ä¸ªè·¯å¾„ï¼Œbasenameå‘½ä»¤ä¼šåˆ æ‰æ‰€æœ‰çš„å‰ç¼€åŒ…æ‹¬æœ€åä¸€ä¸ªslashï¼ˆâ€˜/â€™ï¼‰å­—ç¬¦ï¼Œç„¶åå°†å­—ç¬¦ä¸²æ˜¾ç¤ºå‡ºæ¥ã€‚</div><div class="line">  #pids=`ps -ef|grep "$PROCESS_NAME"|grep -v "grep"| grep -v "$(basename $0)" |awk '&#123;print $2&#125;'`</div><div class="line"></div><div class="line">  current_pid=$$</div><div class="line">  echo process pids is $pids.</div><div class="line"></div><div class="line">  #kill process</div><div class="line">  if [ -n "$pids" ]; #åˆ¤æ–­pidsæ˜¯å¦ä¸ºç©ºï¼Œå¼•å·å¿…é¡»åŠ ã€‚"$pids" == ""ç­‰æ•ˆ</div><div class="line">  then</div><div class="line">    for pid in $pids</div><div class="line">    do</div><div class="line">      #current shell pid shoud not kill.</div><div class="line">      if [ $pid -ne $current_pid ];</div><div class="line">      then</div><div class="line">        #check $pid is exist or not</div><div class="line">        check=`ps -p $pid`</div><div class="line">        if [ $? -eq 0 ];</div><div class="line">        then</div><div class="line">          echo kill $pid start.</div><div class="line">          kill -9 $pid</div><div class="line">          #judge result</div><div class="line">          if [ $? -eq 0 ];</div><div class="line">          then</div><div class="line">            echo kill $pid success.</div><div class="line">          else</div><div class="line">            echo kill $pid fail.</div><div class="line">          fi</div><div class="line"></div><div class="line">        fi</div><div class="line">      fi</div><div class="line"></div><div class="line">    done</div><div class="line">  else</div><div class="line">    echo "$PROCESS_NAME does not exist."</div><div class="line">  fi</div><div class="line">&#125;</div><div class="line"></div><div class="line"># get command arguments</div><div class="line">COMMAND=$1</div><div class="line">shift</div><div class="line"># support help commands</div><div class="line">case $COMMAND in</div><div class="line">  --help|-help|-h|help)</div><div class="line">	print_usage</div><div class="line">	exit 0</div><div class="line">  ;;</div><div class="line">  "")</div><div class="line">	print_usage</div><div class="line">	exit 0</div><div class="line">  ;;</div><div class="line">  "start")</div><div class="line">	start $@</div><div class="line">	echo "$@ started"</div><div class="line">	exit 0</div><div class="line">  ;;</div><div class="line">	"stop")</div><div class="line">	stop $@</div><div class="line">	exit 0</div><div class="line">  ;;</div><div class="line">  "restart")</div><div class="line">	start and stopçš„å‚æ•°éœ€è¦ä¸€è‡´æ‰å¯ä»¥ï¼Œå¦‚æœä¸ä¸€è‡´åˆ™éœ€è¦è°ƒæ•´å‚æ•°ä¼ å…¥æ–¹å¼</div><div class="line">	stop $@</div><div class="line">	eep 3</div><div class="line">	tart $@</div><div class="line">	echo "$@ restarted"</div><div class="line">    exit 0</div><div class="line">  ;;</div><div class="line">esac</div></pre></td></tr></table></figure>
<h4 id="Step2-javaç¨‹åºè¿œç¨‹è°ƒç”¨shell"><a href="#Step2-javaç¨‹åºè¿œç¨‹è°ƒç”¨shell" class="headerlink" title="Step2.javaç¨‹åºè¿œç¨‹è°ƒç”¨shell"></a>Step2.javaç¨‹åºè¿œç¨‹è°ƒç”¨shell</h4><blockquote>
<p>1.å¯¼å…¥éœ€è¦ä¾èµ–çš„jaråŒ…ã€‚Javaè¿œç¨‹è°ƒç”¨Shellè„šæœ¬è¿™ä¸ªç¨‹åºéœ€è¦ganymed-ssh2-build210.jaråŒ…ã€‚é‡Œé¢è¿˜æœ‰exampleåŒ…ï¼Œæ–¹ä¾¿å­¦ä¹ ã€‚ä¸ºäº†è°ƒè¯•æ–¹ä¾¿ï¼Œå¯ä»¥å°†\ganymed-ssh2-build210\srcä¸‹çš„ä»£ç ç›´æ¥æ‹·è´åˆ°æˆ‘ä»¬çš„å·¥ç¨‹é‡Œï¼Œæ­¤æºç çš„å¥½å¤„å°±æ˜¯æ²¡æœ‰ä¾èµ–å¾ˆå¤šå…¶ä»–çš„åŒ…ï¼Œæ‹·è´è¿‡æ¥å¹²å¹²å‡€å‡€ã€‚<br>2.å¯¼å…¥commons-ioåŒ…ï¼Œé‡Œé¢çš„IOUtilsä¼šç»å¸¸ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;dependencies&gt;</div><div class="line">    &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;commons-io&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;</div><div class="line">        &lt;version&gt;2.5&lt;/version&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line">    &lt;!-- https://mvnrepository.com/artifact/ch.ethz.ganymed/ganymed-ssh2 --&gt;</div><div class="line">    &lt;dependency&gt;</div><div class="line">        &lt;groupId&gt;ch.ethz.ganymed&lt;/groupId&gt;</div><div class="line">        &lt;artifactId&gt;ganymed-ssh2&lt;/artifactId&gt;</div><div class="line">        &lt;version&gt;build210&lt;/version&gt;</div><div class="line">    &lt;/dependency&gt;</div><div class="line"></div><div class="line">&lt;/dependencies&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>3ã€ç¼–å†™RemoteShellExecutorå·¥å…·ç±»</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> RemoteShell;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.*;</div><div class="line"><span class="keyword">import</span> java.nio.charset.Charset;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</div><div class="line"></div><div class="line"><span class="keyword">import</span> ch.ethz.ssh2.ChannelCondition;</div><div class="line"><span class="keyword">import</span> ch.ethz.ssh2.Connection;</div><div class="line"><span class="keyword">import</span> ch.ethz.ssh2.Session;</div><div class="line"><span class="keyword">import</span> ch.ethz.ssh2.StreamGobbler;</div><div class="line"><span class="comment">/**</span></div><div class="line"> * Created by Chant on 2017/5/27.</div><div class="line"> * è¿œç¨‹è°ƒç”¨è„šæœ¬é‡å¯æœåŠ¡</div><div class="line"> */</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RemoteShellExecutor</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> Connection conn;</div><div class="line">    <span class="comment">/** è¿œç¨‹æœºå™¨IP */</span></div><div class="line">    <span class="keyword">private</span> String ip;</div><div class="line">    <span class="comment">/** ç”¨æˆ·å */</span></div><div class="line">    <span class="keyword">private</span> String osUsername;</div><div class="line">    <span class="comment">/** å¯†ç  */</span></div><div class="line">    <span class="keyword">private</span> String password;</div><div class="line">    <span class="keyword">private</span> String charset = Charset.defaultCharset().toString();</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> TIME_OUT = <span class="number">1000</span> * <span class="number">5</span> * <span class="number">60</span>;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * æ„é€ å‡½æ•°</div><div class="line">     * <span class="doctag">@param</span> ip</div><div class="line">     * <span class="doctag">@param</span> usr</div><div class="line">     * <span class="doctag">@param</span> pasword</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RemoteShellExecutor</span><span class="params">(String ip, String usr, String pasword)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.ip = ip;</div><div class="line">        <span class="keyword">this</span>.osUsername = usr;</div><div class="line">        <span class="keyword">this</span>.password = pasword;</div><div class="line"><span class="comment">//        System.out.println(charset);</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ç™»å½•</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     * <span class="doctag">@throws</span> IOException</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">login</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">        conn = <span class="keyword">new</span> Connection(ip);</div><div class="line">        conn.connect();</div><div class="line">        <span class="keyword">return</span> conn.authenticateWithPassword(osUsername, password);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * æ‰§è¡Œè„šæœ¬</div><div class="line">     *</div><div class="line">     * <span class="doctag">@param</span> cmds</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     * <span class="doctag">@throws</span> Exception</div><div class="line">     */</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">exec</span><span class="params">(String cmds)</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        InputStream stdOut = <span class="keyword">null</span>;</div><div class="line">        InputStream stdErr = <span class="keyword">null</span>;</div><div class="line">        String outStr = <span class="string">""</span>;</div><div class="line">        String outErr = <span class="string">""</span>;</div><div class="line">        <span class="keyword">int</span> ret = -<span class="number">1</span>;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="keyword">if</span> (login()) &#123;</div><div class="line">                <span class="comment">// Open a new &#123;@link Session&#125; on this connection</span></div><div class="line">                Session session = conn.openSession();</div><div class="line">                <span class="comment">// Execute a command on the remote machine.</span></div><div class="line">                session.execCommand(cmds);</div><div class="line"></div><div class="line">                stdOut = <span class="keyword">new</span> StreamGobbler(session.getStdout());</div><div class="line">                outStr = processStream(stdOut, charset);</div><div class="line"></div><div class="line">                stdErr = <span class="keyword">new</span> StreamGobbler(session.getStderr());</div><div class="line">                outErr = processStream(stdErr, charset);</div><div class="line"></div><div class="line">                session.waitForCondition(ChannelCondition.EXIT_STATUS, TIME_OUT);</div><div class="line"></div><div class="line">                System.out.println(<span class="string">"outStr="</span> +<span class="string">"\n"</span>+ outStr);</div><div class="line">                System.out.println(<span class="string">"outErr="</span> +<span class="string">"\n"</span>+ outErr);</div><div class="line"></div><div class="line">                ret = session.getExitStatus();</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"ç™»å½•è¿œç¨‹æœºå™¨å¤±è´¥"</span> + ip); <span class="comment">// è‡ªå®šä¹‰å¼‚å¸¸ç±» å®ç°ç•¥</span></div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">finally</span> &#123;</div><div class="line">            <span class="keyword">if</span> (conn != <span class="keyword">null</span>) &#123;</div><div class="line">                conn.close();</div><div class="line">            &#125;</div><div class="line">            IOUtils.closeQuietly(stdOut);</div><div class="line">            IOUtils.closeQuietly(stdErr);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * <span class="doctag">@param</span> in</div><div class="line">     * <span class="doctag">@param</span> charset</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     * <span class="doctag">@throws</span> IOException</div><div class="line">     * <span class="doctag">@throws</span> UnsupportedEncodingException</div><div class="line">     */</div><div class="line"><span class="comment">//    private String processStream(InputStream in, String charset) throws Exception &#123;</span></div><div class="line"><span class="comment">//        byte[] buf = new byte[1024];</span></div><div class="line"><span class="comment">//        StringBuilder sb = new StringBuilder();</span></div><div class="line"><span class="comment">//        while (in.read(buf) != -1) &#123;</span></div><div class="line"><span class="comment">//            sb.append(new String(buf, charset));</span></div><div class="line"><span class="comment">//        &#125;</span></div><div class="line"><span class="comment">//        return sb.toString();</span></div><div class="line"><span class="comment">//    &#125;</span></div><div class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">processStream</span><span class="params">(InputStream in, String charset)</span><span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        BufferedReader bufr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(in,charset));</div><div class="line">        String line = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">while</span>((line = bufr.readLine()) != <span class="keyword">null</span>)&#123;</div><div class="line">            sb.append(line);</div><div class="line">            sb.append(<span class="string">"\n"</span>);<span class="comment">//ï¼Ÿï¼Ÿæ¢è¡Œç¬¦æ˜¯ä¾èµ–å¹³å°çš„</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>4ã€Javaç¨‹åºè°ƒç”¨è¿œç¨‹Shell</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">    RemoteShellExecutor(<span class="string">"10.10.10.100"</span>, <span class="string">"root"</span>, <span class="string">"123123"</span>);</div><div class="line">    String proName = <span class="string">"entranceMain.sh"</span>;</div><div class="line">    String para = <span class="string">"1"</span>;</div><div class="line">        System.out.println(executor.exec(<span class="string">"server.sh.Chant start "</span> + proName +<span class="string">" "</span>+ para));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å°†startæ¢ä¸ºrestartï¼Œstopï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼Œæ³¨æ„pidå‘ç”Ÿå˜åŒ–ï¼Œè¯´æ˜é‡å¯æˆåŠŸã€‚<br><img src="http://image.jiantuku.com/17-6-4/80160967.jpg?attname=file_1496584141329_3b57.png&amp;e=1496584810&amp;token=el7kgPgYzpJoB23jrChWJ2gV3HpRl0VCzFn8rKKv:24Xu8-YbrqzYKvsT6uoA8NUefVk=" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;hr&gt;
&lt;h3 id=&quot;ç›®çš„ï¼š&quot;&gt;&lt;a href=&quot;#ç›®çš„ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ç›®çš„ï¼š&quot;&gt;&lt;/a&gt;ç›®çš„ï¼š&lt;/h3&gt;&lt;p&gt;javaç¨‹åºè°ƒç”¨è¿œç¨‹æœåŠ¡å™¨çš„shellè„šæœ¬æ¥å®ç°æœåŠ¡çš„èµ·ã€åœã€é‡å¯ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="java" scheme="https://chant00.github.io/categories/java/"/>
    
    
      <category term="java" scheme="https://chant00.github.io/tags/java/"/>
    
      <category term="shell" scheme="https://chant00.github.io/tags/shell/"/>
    
  </entry>
  
</feed>
